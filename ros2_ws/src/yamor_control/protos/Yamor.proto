# VRML_SIM R2023b utf8
# license: Apache License 2.0
# license url: http://www.apache.org/licenses/LICENSE-2.0
# YaMor robot.

PROTO Yamor [
    field SFVec3f       translation     0 0 0
    field SFRotation    rotation        0 0 1 0
    field SFString      controller      "<extern>"
    field SFString      name            "Yamor"
]
{
    Robot {
        name IS name
        translation IS translation
        rotation IS rotation
        controller IS controller
        children [
            # Group {
            # }
            DEF BODY_GROUP Group {
                children [
                    DEF BOX_SHAPE Shape {
                        appearance DEF PLASTIC PBRAppearance {
                            baseColor 0 1 0
                            roughness 0.2
                            metalness 0
                        }
                        geometry Box {
                            size 0.06 0.054 0.0482
                        }
                    }
                    DEF CYLINDER_TRANS Pose {
                        translation 0.03 0 0
                        children [
                            Shape {
                                appearance USE PLASTIC
                                geometry Cylinder {
                                    height 0.0481
                                    radius 0.027
                                }
                            }
                        ]
                    }
                ]
            }
            DEF REAR_CONNECTOR Connector {
                translation -0.03 0 0
                rotation 0 0 1 -3.1415926535
                children [
                    DEF ROUND_SHAPE Pose {
                        rotation 0 1 0 1.5708
                        children [
                            Shape {
                                appearance PBRAppearance {
                                    metalness 0
                                }
                                geometry Cylinder {
                                    height 0.0005
                                    radius 0.0075
                                }
                            }
                        ]
                    }
                ]
                name "rear_connector"
                isLocked TRUE
                distanceTolerance 0.05
                axisTolerance 0.5
                rotationTolerance 0.5
            }
            DEF HINGE_JOINT HingeJoint {
                jointParameters HingeJointParameters {
                    axis 0 0 1
                    anchor 0.03 0 0
                }
                device [
                    PositionSensor {
                        name "positionSensor"
                    }
                    RotationalMotor {
                        name "motor"
                        maxVelocity 3.9667
                        minPosition -1.5708
                        maxPosition 1.5708
                        maxTorque 1.1000
                    }
                ]
                endPoint Solid {
                    translation 0.03 0 0
                    children [
                        DEF GRAY_BOX_TRANS Pose {
                            translation 0.0135 0 0
                            children [
                                Shape {
                                    appearance PBRAppearance {
                                        baseColor 0.752941 0.752941 0.752941
                                        roughness 0.2
                                        metalness 0
                                    }
                                    geometry Box {
                                        size 0.047 0.015 0.0612
                                    }
                                }
                            ]
                        }
                        DEF FRONT_CONNECTOR Connector {
                            translation 0.037 0 0
                            children [
                                USE ROUND_SHAPE
                            ]
                            name "front_connector"
                            isLocked TRUE
                            distanceTolerance 0.05
                            axisTolerance 0.5
                            rotationTolerance 0.5
                        }
                    ]
                    boundingObject USE GRAY_BOX_TRANS
                    physics Physics {
                        density -1
                        mass 0.016
                    }
                }
            }
        ]
        boundingObject USE BODY_GROUP
        physics DEF BODY_PHYSICS Physics {
            density -1
            mass 0.17
        }
    }
}